<div class="help-content-panel">
  <div>
    <div>
      <ul>
        <li><a>Integrations</a></li>
        <li><a>Pre-defined integrations with Zoho services</a></li>
        <li><a>Zoho Bookings integration tasks</a></li>
        <li><a>Get available slots from Zoho Bookings</a></li>
      </ul>
    </div>
  </div>
  <div>
    <div>
      <div>
        <div>
          <h1>Get available slots from Zoho Bookings</h1>
          <div>
            <div>
              <h4>Table of Contents</h4>
              <ul>
                <li><a>Overview</a></li>
                <li><a>Syntax</a></li>
                <li><a>Example</a></li>
                <li><a>Response Format</a></li>
                <li><a>Related Links</a></li>
              </ul>
            </div>
            <h2><a></a>Overview</h2>
            <p>
              This&nbsp;task is used to fetch&nbsp;a list of available slots for
              the given service and staff on the specified date.
            </p>
            <p>
              This task is based on&nbsp;Zoho Bookings API&nbsp;-
              <a>Fetch Availability</a>.
            </p>
            <h2><a></a>Syntax</h2>
            <div>
              <pre><span>&lt;</span><span>response</span><span>&gt;</span><span> = </span><span>zoho</span><span>.bookings.getAvailableSlots</span><span>(</span><span>&lt;</span><span>service_id</span><span>&gt;</span>,<span> &lt;</span><span>staff_id</span><span>&gt;</span>,<span> &lt;</span><span>date</span><span>&gt;</span>,<span> &lt;</span><span>connection</span><span>&gt;</span><span>)</span><span>;</span></pre>
            </div>
            <div>
              <div>
                <div>
                  <table>
                    <tbody>
                      <tr>
                        <td><strong>Params</strong></td>
                        <td><strong>Data type</strong></td>
                        <td><strong>Description</strong></td>
                      </tr>
                      <tr>
                        <td><p>&lt;response&gt;&nbsp;</p></td>
                        <td><span>KEY-VALUE</span></td>
                        <td>
                          <p>Variable which will hold the returned response.</p>
                        </td>
                      </tr>
                      <tr>
                        <td><p>&lt;service_id&gt;&nbsp;</p></td>
                        <td><span>NUMBER</span></td>
                        <td>
                          <p>
                            The ID of the service whose available slots will be
                            fetched.
                          </p>
                          <p><strong>Note: </strong></p>
                          <ul>
                            <li>
                              You can get the ID of the record from the URL. The
                              URL of a record in the&nbsp;<strong
                                >service</strong
                              >
                              module is in the following format:<br />https://bookings.zoho.com/#/app/manage-business/services/<strong>&lt;service_id&gt;</strong>/service-info
                            </li>
                            <li>
                              You can also use the&nbsp;<a>invoke URL</a
                              >&nbsp;task to fetch records from the Services
                              module. Visit&nbsp;<a>Zoho Bookings API help</a
                              >&nbsp;and navigate to "Fetch Services" for API
                              details. The response will contain the IDs of all
                              the records, which can be extracted as illustrated
                              in this&nbsp;<a>sample snippet</a>.&nbsp;
                            </li>
                            <li>
                              You can also
                              use&nbsp;<strong>zoho.bookings.getRelatedRecords</strong>&nbsp;task
                              to fetch records from Services&nbsp;module and
                              then the IDs of those records can be extracted as
                              illustrated&nbsp;<a>here</a>.
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <td><p>&lt;staff_id&gt;</p></td>
                        <td><span>NUMBER</span></td>
                        <td>
                          <p>
                            The ID of the staff associated&nbsp;with the service
                            whose availability will be checked.
                          </p>
                          <p><strong>Note:</strong></p>
                          <ul>
                            <li>
                              You can get the ID of the record from the URL. The
                              URL of a record in&nbsp;<strong>staffs</strong>
                              module is in the following format:<br />â€‹https://bookings.zoho.com/#/app/manage-business/staffs/<strong>&lt;staff_id&gt;</strong>/staff-info
                            </li>
                            <li>
                              You can also use the&nbsp;<a>invoke URL</a
                              >&nbsp;task to fetch records from the Staff
                              module. Visit&nbsp;<a>Zoho Bookings API help</a
                              >&nbsp;and navigate to "Fetch Staff" for API
                              details. The response will contain the IDs of all
                              the records, which can be extracted as illustrated
                              in this&nbsp;<a>sample snippet</a>.&nbsp;
                            </li>
                            <li>
                              You can also
                              use&nbsp;<strong>zoho.bookings.getRelatedRecords</strong>&nbsp;task
                              to fetch records from Staff&nbsp;module and then
                              the IDs of those records can be extracted as
                              illustrated&nbsp;<a>here</a>.
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <td><p>&lt;date&gt;</p></td>
                        <td><span>TEXT</span></td>
                        <td>
                          <p>
                            The date for which the available time slots
                            will&nbsp;be fetched.
                          </p>
                        </td>
                      </tr>
                      <tr>
                        <td><p>&lt;connection&gt;</p></td>
                        <td><span>TEXT</span></td>
                        <td>
                          <p>The name of the <a>connection</a>.</p>
                          <p><strong>Note</strong>:</p>
                          <ul>
                            <li>
                              In view of&nbsp;<a
                                >stopping new authtoken generation</a
                              >,&nbsp;a Zoho OAuth connection with appropriate
                              scopes is mandatory&nbsp;for new integration tasks
                              (created after the deadline specified in the post)
                              to work as expected. Existing integration tasks
                              will continue to work with or without the
                              connections parameter unless the authtoken is
                              manually deleted&nbsp;from&nbsp;<a>accounts</a>.
                            </li>
                            <li>
                              Add relevant scopes while creating the connection.
                            </li>
                            <li>
                              Refer to&nbsp;<a>this&nbsp;post</a>&nbsp;for the
                              list of Zoho services that support the connections
                              page.
                            </li>
                            <li><a>Learn more about connections</a></li>
                          </ul>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <h2><a></a>Example</h2>
            <p>
              The following script fetches all the available slots for the
              service of ID -&nbsp;<strong>3883XXXXXXXXXXX7032</strong> and
              staff of ID -&nbsp;<strong>3883XXXXXXXXXXX7008</strong>
              on&nbsp;<strong>18-10-2019</strong>:
            </p>
            <div>
              <pre><span>response</span><span> = </span><span>zoho</span><span>.bookings.getAvailableSlots</span><span>(</span><span>3883XXXXXXXXXXX7032</span>, <span>3883XXXXXXXXXXX7008</span>, <span>"18-10-2019"</span>, <span>"bookings_oauth_connection"</span><span>)</span><span>;</span>
</pre>
            </div>
            <p>where:</p>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <pre><span>response</span>
</pre>
                    </div>
                    <div>
                      The variable which holds the response in&nbsp;<span
                        >KEY-VALUE</span
                      >
                      format.
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>3883XXXXXXXXXXX7032</span>
</pre>
                    </div>
                    <div>
                      The <span>NUMBER</span> that represents the service ID.
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>3883XXXXXXXXXXX7008</span>
</pre>
                    </div>
                    <div>
                      The <span>NUMBER</span> that represents the staff ID.
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>"18-10-2019"</span>
</pre>
                    </div>
                    <div>
                      The <span>TEXT</span> that represents the date for which
                      the available slots will be fetched.
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>"bookings_oauth_connection"</span>
</pre>
                    </div>
                    <div>
                      The <span>TEXT</span> that represents the connection name.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h2><a></a>Response Format</h2>
            <p><strong>Success Response</strong></p>
            <ul>
              <li>
                The success response will be returned in the following format:
                <div>
                  &nbsp;{<br />&nbsp;"response": {<br />&nbsp;"returnvalue":
                  {<br />&nbsp;"reponse": true,<br />&nbsp;"data": [<br />&nbsp;"15:15",<br />&nbsp;"15:30",<br />&nbsp;"15:45",<br />&nbsp;"16:00",<br />&nbsp;"16:15",<br />&nbsp;"16:30",<br />&nbsp;"16:45"<br />&nbsp;],<br />&nbsp;"time_zone":
                  "Asia/Calcutta"<br />&nbsp;},<br />&nbsp;"status":
                  "success"<br />&nbsp;}<br />&nbsp;}
                </div>
              </li>
            </ul>
            <a></a>
            <p>To get the time zone, you can use the following script:</p>
            <div>
              <pre>&nbsp;<span>&lt;variable&gt; </span>=<span> response</span>.<span>get</span>(<span>"response"</span>).<span>get</span>(<span>"returnvalue"</span>).<span>get</span>(<span>"time_zone"</span>);
</pre>
            </div>
            <p>
              To extract the list of available slots, you can use the following
              script:
            </p>
            <div>
              <pre>&nbsp;<span>&lt;variable&gt; </span>=<span> response</span>.<span>get</span>(<span>"response"</span>).<span>get</span>(<span>"returnvalue"</span>).<span>get</span>(<span>"data"</span>);
</pre>
            </div>
            <p><strong>Failure Response</strong></p>
            <ul>
              <li>
                The failure response for an invalid or non-existent service ID
                will be returned in the following format:
                <div>
                  &nbsp;{<br />&nbsp;"response": {<br />&nbsp;"returnvalue":
                  {<br />&nbsp;"message": "Service not found",<br />&nbsp;"status":
                  "failure"<br />&nbsp;},<br />&nbsp;"status": "success"<br />&nbsp;}<br />}
                </div>
              </li>
              <li>
                The failure response for an invalid or non-existent
                staff/resource ID will be returned in the following format:
                <div>
                  &nbsp;{<br />&nbsp;"response": {<br />&nbsp;"returnvalue":
                  {<br />&nbsp;"message": "Staff not found",<br />&nbsp;"status":
                  "failure"<br />&nbsp;},<br />&nbsp;"status": "success"<br />&nbsp;}<br />}
                </div>
              </li>
            </ul>
            <h2><a></a>Related Links</h2>
            <ul>
              <li><a>Zoho Bookings API</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div><iframe></iframe></div>
</div>
