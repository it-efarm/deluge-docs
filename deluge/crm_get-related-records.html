<div class="help-content-panel">
  <div>
    <div>
      <ul>
        <li><a>Integrations</a></li>
        <li><a>Pre-defined integrations with Zoho services</a></li>
        <li><a>Zoho CRM integration tasks</a></li>
        <li><a>Get Related Records from Zoho CRM</a></li>
      </ul>
    </div>
  </div>
  <div>
    <div>
      <div>
        <div>
          <h1>Get Related Records from Zoho CRM</h1>
          <div>
            <div>
              <h4>Table of Contents</h4>
              <ul>
                <li><a>Description</a></li>
                <li><a>Syntax</a></li>
                <li>
                  <a>Examples</a>
                  <ul>
                    <li><a>Fetch Notes from Leads module</a></li>
                    <li><a>Fetch Events related to a Custom Module</a></li>
                  </ul>
                </li>
                <li><a>Response Format</a></li>
                <li><a>Related Links</a></li>
              </ul>
            </div>
            <h2><a></a>Description</h2>
            <p>
              This&nbsp;task is used to fetch records from a submodule(related
              list) related to a record in a parent&nbsp;module in Zoho
              CRM.&nbsp;For instance, Notes attached to a particular Lead or
              Contacts linked to a particular account can be fetched using the
              ID of the parent module record.
            </p>
            <h2><a></a>Syntax</h2>
            <div>
              <pre><span>&lt;</span><span>response</span><span>&gt;</span> <span>=</span> <span>zoho</span><span>.crm.getRelatedRecords</span><span>(</span><span>&lt;</span><span>relation_name</span><span>&gt;</span><span>, </span><span>&lt;</span><span>parent_module_name</span><span>&gt;</span><span>, </span><span>&lt;</span><span>record_id</span><span>&gt;</span><span>, </span>
<span>&lt;</span><span>page</span><span>&gt;</span><span>,</span> <span>&lt;</span><span>per_page</span><span>&gt;</span><span>, <span>&lt;</span><span>query_value</span><span>&gt;</span></span><span>, <span>&lt;</span><span>connection</span><span>&gt;)</span><span>;</span></span></pre>
            </div>
            <p>where,</p>
            <div>
              <table>
                <tbody>
                  <tr>
                    <td><strong>Params</strong></td>
                    <td><strong>Data type</strong></td>
                    <td><strong>Description</strong></td>
                  </tr>
                  <tr>
                    <td><p>&lt;response&gt;&nbsp;</p></td>
                    <td>
                      <p><span>KEY-VALUE</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the response returned&nbsp;by Zoho CRM. It
                        represents the values fetched from the records against
                        the API names of its respective fields.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td><p>&lt;relation_name&gt;</p></td>
                    <td>
                      <p><span>TEXT</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the <a>API name</a> of the submodule or the
                        related list.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td><p>&lt;parent_module_name&gt;&nbsp;</p></td>
                    <td>
                      <p><span>TEXT</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the <a>API name</a> of the module&nbsp;<span
                          >to which the submodule belongs. For example, "Notes"
                          submodule belongs to&nbsp;"Leads" parent module.</span
                        >
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td><p>&lt;record_id&gt;&nbsp;</p></td>
                    <td>
                      <p><span>NUMBER</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the&nbsp;ID of the parent module record whose
                        related data needs to be fetched.
                      </p>
                      <p>
                        Learn how to fetch the ID of a record
                        after&nbsp;<a>creating</a>,&nbsp;<a>searching</a>&nbsp;or&nbsp;<a>fetching</a>&nbsp;it.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;page&gt;</p>
                      <p>&nbsp; (optional)</p>
                    </td>
                    <td>
                      <p><span>NUMBER</span></p>
                    </td>
                    <td>
                      <p>
                        refers to the starting index of the records that need to
                        be fetched
                      </p>
                      <p><strong>Default value:</strong> 1</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;per_page&gt;</p>
                      <p>&nbsp;&nbsp;(optional)</p>
                    </td>
                    <td>
                      <p><span>NUMBER</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the number of records that need to be fetched
                        per page
                      </p>
                      <p><strong>Default value:</strong> 200</p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;query_value&gt;</p>
                      <p>(optional)</p>
                    </td>
                    <td>
                      <p><span>KEY-VALUE</span></p>
                    </td>
                    <td>
                      <p>
                        holds&nbsp;all the other parameters&nbsp;specified in
                        the <a>Zoho CRM API</a>.
                      </p>
                      <strong>Note:</strong>
                      <ul>
                        <li>
                          Currently there is no extra parameter supported by
                          the&nbsp;<a>Zoho CRM - Get Related Records API</a>. To
                          ignore querying, provide an empty map.<br />For
                          example: {"":""}
                        </li>
                        <li>
                          The <strong>&lt;page&gt;</strong> and
                          <strong>&lt;per_page&gt;</strong> params must be
                          specified to be able to specify this
                          param.&nbsp;&nbsp;
                        </li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;connection&gt;</p>
                      <p>(optional)</p>
                    </td>
                    <td>
                      <p><span>TEXT</span></p>
                    </td>
                    <td>
                      <p>specifies the name of the <a>connection</a>.</p>
                      <strong>Note:</strong>
                      <ul>
                        <li>
                          This param is not employed in
                          <strong>Zoho Creator</strong> and mandatory in
                          <strong>Zoho Cliq</strong>.
                        </li>
                        <li>
                          The <strong>&lt;page&gt;</strong>,
                          <strong>&lt;per_page&gt;</strong>,
                          <strong>&lt;query_value&gt; </strong>params must be
                          specified to be able to specify this param.
                        </li>
                      </ul>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h2><a></a>Example 1</h2>
            <p>
              The following script fetches all the
              <strong>Notes</strong> associated to the Lead with ID -
              <strong>23033XXXXXXXXXXXXXX</strong> in Zoho CRM.
            </p>
            <div>
              <pre><span>notesinfo </span><span>= </span><span>zoho</span><span>.crm.getRelatedRecords</span><span>(</span><span>"Notes"</span><span>, </span><span>"Leads"</span><span>, </span><span>23033XXXXXXXXXXXXXXâ€‹</span><span>)</span><span>;</span></pre>
            </div>
            <p>where,</p>
            <div>
              <div>
                <div>
                  <pre><span>notesinfo</span></pre>
                </div>
                <div>
                  is the value which will hold the&nbsp;response returned by
                  Zoho CRM. It represents the values fetched from the records
                  against the API names of its respective fields.
                </div>
              </div>
              <div>
                <div>
                  <pre><span>"Notes"</span></pre>
                </div>
                <div>
                  is the <span>TEXT</span> that represents the API name of the
                  submodule, from where records need to be fetched.
                </div>
              </div>
              <div>
                <div>
                  <pre><span>"Leads"</span></pre>
                </div>
                <div>
                  is the <span>TEXT</span> that represents the parent module to
                  which the submodule belongs. In this example, "Notes" is the
                  submodule which belongs to the Leads module.
                </div>
              </div>
            </div>
            <h2><a></a>Example 2</h2>
            <p>
              The following script fetches all the records from the
              <strong>Events </strong> submodule associated with the custom
              module - <strong>Hotels</strong>
            </p>
            <div>
              <pre><span>eventsinfo </span><span>= </span><span>zoho</span><span>.crm.getRelatedRecords</span><span>(</span><span>"Events"</span><span>, </span><span>"Hotels"</span><span>, </span><span>23033XXXXXXXXXXXXXX</span><span>, 1, </span><span>3</span><span>)</span><span>;</span></pre>
            </div>
            <p>where,</p>
            <div>
              <div>
                <div>
                  <pre><span>eventsinfo</span></pre>
                </div>
                <div>
                  is the value which will hold the&nbsp;response returned from
                  Zoho CRM. It represents the values of the fetched records
                  against the API names of its respective fields.
                </div>
              </div>
              <div>
                <div>
                  <pre><span>"Events"</span></pre>
                </div>
                <div>
                  <span
                    >is the <span>TEXT</span> that represents the API name of
                    the submodule from where records need to be fetched.</span
                  >
                </div>
              </div>
              <div>
                <div>
                  <pre><span>"Hotels"</span></pre>
                </div>
                <div>
                  <span
                    >is the <span>TEXT</span> that represents the API name of
                    Zoho CRM custom module, to which the submodule
                    belongs.</span
                  >
                </div>
              </div>
              <div>
                <div>
                  <pre><span>23033XXXXXXXXXXXXXX</span></pre>
                </div>
                <div>
                  is the <span>NUMBER</span> that represents the ID of the
                  custom module record which contains the events to be fetched.
                </div>
              </div>
              <div>
                <div>
                  <pre><span>1 </span><span>and </span><span>3</span></pre>
                </div>
                <div>
                  <span>are page and per_page values respectively.</span>
                </div>
              </div>
            </div>
            <h2><a></a>Response Format</h2>
            <p>
              The following is a <strong>sample response</strong>&nbsp;returned
              when related records are fetched:
            </p>
            <div>
              <p>
                {&nbsp;&nbsp;<br />&nbsp; &nbsp;"Owner":{&nbsp;&nbsp;<br />&nbsp;
                &nbsp; &nbsp; "name":"Ben",<br />&nbsp; &nbsp; &nbsp;
                "id":"23033XXXXXXXXXXXXXX"<br />&nbsp; &nbsp;},<br />&nbsp;
                &nbsp;"Company":"Zylker",<br />&nbsp;
                &nbsp;"Email":"bruce.wills@zylker.com",<br />&nbsp;
                &nbsp;"Description":null,<br />&nbsp; &nbsp;"Discount":null,<br />&nbsp;
                &nbsp;"$currency_symbol":"$",<br />&nbsp;
                &nbsp;"Total_Amount":null,<br />&nbsp; &nbsp;"Rating":null,<br />&nbsp;
                &nbsp;"Website":null,<br />&nbsp; &nbsp;"Twitter":null,<br />&nbsp;
                &nbsp;"Salutation":null,<br />&nbsp;
                &nbsp;"Last_Activity_Time":null,<br />&nbsp;
                &nbsp;"First_Name":null,<br />&nbsp;
                &nbsp;"Full_Name":"Wills",<br />&nbsp;
                &nbsp;"Lead_Status":null,<br />&nbsp; &nbsp;"Industry":null,<br />&nbsp;
                &nbsp;"Modified_By":{&nbsp;&nbsp;<br />&nbsp; &nbsp; &nbsp;
                "name":"Ben",<br />&nbsp; &nbsp; &nbsp;
                "id":"23033XXXXXXXXXXXXXX"<br />&nbsp; &nbsp;},<br />&nbsp;
                &nbsp;"Skype_ID":null,<br />&nbsp; &nbsp;"$converted":false,<br />&nbsp;
                &nbsp;"$process_flow":false,<br />&nbsp; &nbsp;"Phone":"+1 678
                XXX XXXX",<br />&nbsp; &nbsp;"Street":null,<br />&nbsp;
                &nbsp;"Zip_Code":null,<br />&nbsp;
                &nbsp;"id":"23033XXXXXXXXXXXXXX",<br />&nbsp;
                &nbsp;"Email_Opt_Out":false,<br />&nbsp;
                &nbsp;"$approved":true,<br />&nbsp; &nbsp;"Designation":null,<br />&nbsp;
                &nbsp;"$approval":{&nbsp;&nbsp;<br />&nbsp; &nbsp; &nbsp;
                "delegate":false,<br />&nbsp; &nbsp; &nbsp; "approve":false,<br />&nbsp;
                &nbsp; &nbsp; "reject":false,<br />&nbsp; &nbsp; &nbsp;
                "resubmit":false<br />&nbsp; &nbsp;},<br />&nbsp;
                &nbsp;"Modified_Time":"2018-03-28T11:34:40+05:30",<br />&nbsp;
                &nbsp;"Created_Time":"2018-03-28T11:34:40+05:30",<br />&nbsp;
                &nbsp;"$converted_detail":{&nbsp;&nbsp;
              </p>
              <p>
                &nbsp; &nbsp;},<br />&nbsp; &nbsp;"$followed":false,<br />&nbsp;
                &nbsp;"$editable":true,<br />&nbsp; &nbsp;"City":null,<br />&nbsp;
                &nbsp;"No_of_Employees":0,<br />&nbsp; &nbsp;"Mobile":null,<br />&nbsp;
                &nbsp;"Last_Name":"Wills",<br />&nbsp; &nbsp;"State":null,<br />&nbsp;
                &nbsp;"Total":0,<br />&nbsp; &nbsp;"Lead_Source":null,<br />&nbsp;
                &nbsp;"Country":"United States",<br />&nbsp;
                &nbsp;"Tag":[&nbsp;&nbsp;
              </p>
              <p>
                &nbsp; &nbsp;],<br />&nbsp; &nbsp;"Created_By":{&nbsp;&nbsp;<br />&nbsp;
                &nbsp; &nbsp; "name":"Ben",<br />&nbsp; &nbsp; &nbsp;
                "id":"23033XXXXXXXXXXXXXX"<br />&nbsp; &nbsp;},<br />&nbsp;
                &nbsp;"Fax":null,<br />&nbsp; &nbsp;"Annual_Revenue":0,<br />&nbsp;
                &nbsp;"Secondary_Email":null<br />}
              </p>
            </div>
            <p>
              To get the list of record IDs from the response, execute the
              following snippet:
            </p>
            <div>
              &lt;list_variable&gt; = list();&nbsp;<br />&lt;variable&gt; =
              &lt;response_variable&gt;.toJsonList();&nbsp;<br />for each
              &lt;loop_variable&gt; in &lt;variable&gt;&nbsp;<br />&nbsp;
              {&nbsp;<br />&nbsp; &nbsp; &lt;variable1&gt; =
              &lt;loop_variable&gt;.getJson("id");&nbsp;<br />&nbsp; &nbsp;
              &lt;list_variable&gt;.add(variable1);&nbsp;<br />&nbsp; &nbsp;
              info &lt;list_variable&gt;;&nbsp;<br />&nbsp; }
            </div>
            &nbsp;
            <div>
              <p>
                <strong>Note</strong>: Refer to
                <a>Zoho CRM API document - Related Records Data</a> for possible
                error responses.
              </p>
            </div>
            <h2><a></a>Related Links</h2>
            <ul>
              <li><a>Zoho CRM API</a></li>
              <li><a>API names of Zoho CRM modules and fields</a></li>
              <li><a>Connections</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div><iframe></iframe></div>
</div>
