<div class="help-content-panel">
  <div>
    <div>
      <ul>
        <li><a>Integrations</a></li>
        <li><a>Pre-defined integrations with Zoho services</a></li>
        <li><a>Zoho CRM integration tasks</a></li>
        <li><a>Upsert record</a></li>
      </ul>
    </div>
  </div>
  <div>
    <div>
      <div>
        <div>
          <h1>Upsert record</h1>
          <div>
            <div>
              <h4>Table of Contents</h4>
              <ul>
                <li><a>Description</a></li>
                <li><a>Syntax</a></li>
                <li>
                  <a>Example</a>
                  <ul>
                    <li><a>Create record</a></li>
                    <li><a>Update record</a></li>
                  </ul>
                </li>
                <li><a>Response Format</a></li>
                <li><a>Related Links</a></li>
              </ul>
            </div>
            <h2><a></a>Description</h2>
            <p>
              This task is used to update the values of a particular record
              using its ID in Zoho CRM.
            </p>
            <div>
              <p>
                <strong>Note: </strong>If the ID is not provided, a new record
                is created with the specified values.
              </p>
            </div>
            <h2><a></a>Syntax</h2>
            <div>
              <pre><span>&lt;</span><span>variable</span><span>&gt;</span><span> = </span><span>zoho</span><span>.crm.upsert</span><span>(</span><span>&lt;</span><span>module</span><span>&gt;</span>,<span>&lt;</span><span>values</span><span>&gt;</span>,<span>&lt;</span><span>optional_data</span><span>&gt;</span>,<span>&lt;</span><span>[</span><span>connection</span><span>&gt;</span><span>]</span><span>)</span><span>;</span>
</pre>
            </div>
            <p>where,</p>
            <div>
              <table>
                <thead>
                  <tr>
                    <td><strong>Params</strong></td>
                    <td><strong>Data type</strong></td>
                    <td><strong>Description</strong></td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><p>&lt;variable&gt;</p></td>
                    <td>
                      <p><span>KEY-VALUE</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the response message returned by Zoho CRM. It
                        represents the record's creation and modification
                        details against the API names of the respective fields.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td><p>&lt;module&gt;</p></td>
                    <td>
                      <p><span>TEXT</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the <a>API name</a> of the module in which the
                        record needs to be created or updated.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td><p>&lt;values&gt;</p></td>
                    <td>
                      <p><span>KEY-VALUE</span></p>
                    </td>
                    <td>
                      <p>
                        specifies the&nbsp;values of the record that needs to be
                        created or updated.
                      </p>
                      <p>
                        The record id, if being specified, must be specified
                        here.
                      </p>
                      <p>
                        <strong>Note</strong>:&nbsp;Refer&nbsp;<a>this page</a
                        >&nbsp;for details about mandatory fields&nbsp;to create
                        a record.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;optional_data&gt;</p>
                      <p>(Optional)</p>
                    </td>
                    <td>
                      <p><span>KEY-VALUE</span></p>
                    </td>
                    <td>
                      <p>Represents other options data(like trigger).</p>
                      <p>
                        This param can be used to selectively allow&nbsp;the
                        execution of scripts(if any) when the record is
                        added/updated.
                      </p>
                      <p>
                        Applicable key is&nbsp;<strong>trigger</strong>, and
                        applicable values
                        are&nbsp;<strong>workflow</strong>,&nbsp;<strong>approval</strong>,
                        and&nbsp;<strong>blueprint</strong>.&nbsp;
                      </p>
                      <p>
                        When this param is specified, the mentioned values will
                        get executed. When this param is not specified, only
                        approvals and blueprints will get executed by
                        default.&nbsp;To restrict all the scripts from getting
                        executed, specify empty list as value to the "trigger"
                        key.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>&lt;connection&gt;</p>
                      <p>(Optional)</p>
                    </td>
                    <td>
                      <p><span>TEXT</span></p>
                    </td>
                    <td>
                      <p>specifies the name of the <a>connection</a></p>
                      <p>
                        <strong>Note: </strong>The &lt;connection&gt; field is
                        not employed in Zoho Creator.
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h2><a></a>Example 1</h2>
            <p>
              The following script creates a new record in the module -
              <strong>Leads</strong>.
            </p>
            <div>
              <pre>&nbsp;<span>record_values</span><span> = </span><span>Map</span><span>()</span><span>;</span>
&nbsp;<span>record_values</span><span>.</span><span>put</span><span>(<span>"Last_Name"</span><span>,</span><span>"Williams"</span>)</span><span>;</span>
&nbsp;<span>record_values</span><span>.</span><span>put</span><span>(<span>"Company"</span><span>,</span><span>"Will Tech"</span>)</span><span>;</span>
&nbsp;<span>response</span><span> = </span><span>zoho</span><span>.crm.upsert</span><span>(</span><span>"Leads"</span><span>,</span><span>record_values</span><span>)</span><span>;</span>
</pre>
            </div>
            <p>where,</p>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <pre><span>response</span></pre>
                    </div>
                    <div>
                      variable which holds the response returned by Zoho CRM,
                      which represents the modified by, modified time, created
                      by, and created time information of the created record.
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>"Leads"</span></pre>
                    </div>
                    <div>
                      is the <span>TEXT</span> that represents the name of the
                      module in which the record needs to be created
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>record_values</span></pre>
                    </div>
                    <div>
                      is the <span>KEY-VALUE</span> variable that holds the new
                      values of the&nbsp;record
                    </div>
                  </div>
                  <div>
                    <div>
                      <pre><span>"Last_Name"</span>&nbsp;
<span>"Company"</span>&nbsp;
</pre>
                    </div>
                    <div>
                      are the <strong>API names</strong> of the Zoho CRM fields.
                      They are of <span>TEXT&nbsp;</span>data type
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h2><a></a>Example 2</h2>
            <p>
              The following script updates&nbsp;the record with ID -
              <strong>2303XXXXXXXXXXXXXXX</strong>,&nbsp;in the module -
              <strong>Leads</strong>.
            </p>
            <div>
              <pre>&nbsp;<span>record_values</span><span> = </span><span>Map</span><span>()</span><span>;</span>
&nbsp;<span>record_values</span><span>.</span><span>put</span><span>(<span>"Last_Name"</span><span>,</span><span>"John"</span>)</span><span>;</span>
&nbsp;<span>record_values</span><span>.</span><span>put</span><span>(<span>"id"</span><span>,</span><span>2303XXXXXXXXXXXXXXX</span>)</span><span>;</span>
&nbsp;<span>response</span><span> = </span><span>zoho</span><span>.crm.upsert</span><span>(</span><span>"Leads"</span><span>,</span><span>record_values</span><span>)</span><span>;</span>
</pre>
            </div>
            <p>where,</p>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <pre><span>2303XXXXXXXXXXXXXXX</span></pre>
                    </div>
                    <div>
                      is the <span>NUMBER</span> that represents the ID of the
                      record that needs to be updated. The record ID can be
                      obtained from the response of <a>Get Records</a> task.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>
                <strong>Note: </strong>Refer <a>this</a> for the instructions to
                get API names of the CRM modules and fields.
              </p>
            </div>
            <h2><a></a>Response Format</h2>
            <p><strong>Success Response</strong></p>
            <ul>
              <li>
                <p>The success response returned is of the following format</p>
                <div>
                  &nbsp;{<br />&nbsp;"Modified_Time":"2018-12-11T12:15:02+05:30",<br />&nbsp;"Modified_By":{"name":"John","id":"2303XXXXXXXXXX"},<br />&nbsp;"Created_Time":"2018-12-06T19:01:45+05:30",<br />&nbsp;"id":"2303XXXXXXXXXX",<br />&nbsp;"Created_By":{"name":"John","id":"2303XXXXXXXXXX"}<br />&nbsp;}
                </div>
              </li>
            </ul>
            <p><strong>Failure Response</strong></p>
            <ul>
              <li>
                <p>
                  The failure response returned for
                  <strong>incorrect or non-existent</strong> record ID is of the
                  following format
                </p>
                <div>
                  &nbsp;{<br />&nbsp;"code":"INVALID_DATA",<br />&nbsp;"details":{},<br />&nbsp;"message":"the
                  related id given seems to be invalid",<br />&nbsp;"status":"error"<br />&nbsp;}
                </div>
              </li>
            </ul>
            <h2><a></a>Related Links</h2>
            <ul>
              <li><a>Z</a><a>oho CRM API</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div><iframe></iframe></div>
</div>
