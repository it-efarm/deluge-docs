<div class="help-content-panel">
  <div>
    <div>
      <ul>
        <li><a>Deluge tasks</a></li>
        <li><a>Data Access</a></li>
        <li><a>For each record</a></li>
      </ul>
    </div>
  </div>
  <div>
    <div>
      <div>
        <div>
          <h1>For each record</h1>
          <div>
            <div>
              <h4>Table of Contents</h4>
              <ul>
                <li><a>Overview</a></li>
                <li><a>Syntax</a></li>
                <li><a>Things to keep in mind</a></li>
                <li><a>Examples</a></li>
              </ul>
            </div>
            <div>
              <p>Note:</p>
              <ul>
                <li>This task is applicable only to Zoho Creator.</li>
              </ul>
            </div>
            <h2><a></a>Overview</h2>
            <p>
              The <strong>for each record</strong>&nbsp;deluge task iterates
              through a form's records, which are retrieved based on&nbsp;a
              given <a>criteria</a>.
            </p>
            <p>The criteria is optional.</p>
            <div>
              <p>Note:</p>
              <ul>
                <li>
                  The fetched records may appear to be sorted based on "added
                  time" (oldest first) system&nbsp;field. However, there
                  is&nbsp;no guarantee&nbsp;to this order and there is no
                  guarantee that the order will remain constant over time. If
                  you are particular about the sequence of the records, it is
                  advisable to use the sort param.
                </li>
              </ul>
            </div>
            <h2><a></a>Syntax</h2>
            <p>To iterate through&nbsp;records which meet a criteria</p>
            <p>
              <span
                ><span>for each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;criteria&gt;]</span>;</span
              >
            </p>
            <p>
              To iterate through records sorted in ascending order based on
              specified field,&nbsp;which meet a criteria
            </p>
            <p>
              <span
                ><span>for each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;</span></span
              ><span>criteria</span
              ><span
                ><span>&gt;]</span
                ><span> sort by &lt;field_link_name&gt;</span>;</span
              >
            </p>
            <p>
              To iterate through records sorted in descending order based on
              specified field,&nbsp;which meet a criteria
            </p>
            <p>
              <span
                ><span>f</span
                ><span>or each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;</span></span
              ><span>criteria</span
              ><span
                ><span>&gt;]</span
                ><span> sort by &lt;field_link_name&gt; desc</span>;</span
              >
            </p>
            <p>
              To iterate through records within a specified range, which meet a
              criteria
            </p>
            <p>
              <span
                ><span>for each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;</span></span
              ><span>criteria</span
              ><span
                ><span>&gt;]</span
                ><span>
                  range from &lt;start_index&gt; to &lt;end_index&gt;</span
                >; &nbsp;</span
              >
            </p>
            <p>
              To iterate through records&nbsp;sorted in ascending
              order&nbsp;based on a field within a specified range, which meet a
              criteria
            </p>
            <p>
              <span
                ><span>for each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;</span></span
              ><span>criteria</span
              ><span
                ><span>&gt;]</span><span> sort by &lt;field_link_name&gt;</span
                ><span>
                  range from &lt;start_index&gt; to &lt;end_index&gt;</span
                >;</span
              >
            </p>
            <p>
              To iterate through records&nbsp;sorted in descending
              order&nbsp;based on a field&nbsp;within a specified range, which
              meet a criteria
            </p>
            <p>
              <span
                ><span>for each &lt;loop_variable&gt; in</span>&nbsp;<span
                  >&lt;form_link_name&gt;</span
                >
                <span>[&lt;</span></span
              ><span>criteria</span
              ><span
                ><span>&gt;]</span
                ><span> sort by &lt;field_link_name&gt; desc</span
                ><span>
                  range from &lt;start_index&gt; to &lt;end_index&gt;</span
                >;</span
              >
            </p>
            <div>
              <table>
                <thead>
                  <tr>
                    <th>Parameter</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span><span>&lt;loop_variable&gt;</span></span>
                    </td>
                    <td>
                      <p>
                        Variable to hold an individual record for each
                        iteration.&nbsp;&nbsp;
                      </p>
                      <p>
                        You can specify any variable name here, without having
                        to declare it initially.
                      </p>
                      <p>
                        It is advisable to not use the same loop
                        variable&nbsp;used earlier.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span><span>&lt;form_link_name&gt;</span></span>
                    </td>
                    <td>
                      <p>
                        Link name of the form from which the records will be
                        fetched.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>
                        <span><span>&lt;criteria&gt;</span></span>
                      </p>
                    </td>
                    <td>
                      <p>
                        <a>Criteria</a> based on which the records will be
                        fetched.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span><span>sort by &lt;field_link_name&gt;</span></span>
                    </td>
                    <td>
                      <p>
                        Link name of the field based on which records will be
                        sorted.
                      </p>
                      <p>
                        If you do not specify asc or desc, the records will be
                        sorted in ascending order.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <p>
                        <span
                          ><span
                            >range from &lt;start_index&gt; to
                            &lt;end_index&gt;</span
                          ></span
                        >
                      </p>
                    </td>
                    <td>
                      <p>
                        Records falling in the specified index range will be
                        fetched.
                      </p>
                      <div>
                        <table>
                          <tbody>
                            <tr>
                              <td>&lt;start_index&gt;</td>
                              <td>
                                <p>
                                  Start index of the range of records to be
                                  fetched.&nbsp;
                                </p>
                                <p>
                                  Both,&nbsp;<strong>0</strong>&nbsp;and&nbsp;<strong>1</strong>&nbsp;are
                                  considered as the index number of the first
                                  record when used in &lt;start_index&gt;
                                  param.<br />If 0 is the specified start index,
                                  the last index is numbered from 0. If 1, or
                                  any number greater than 1,&nbsp;is the
                                  specified start index, the last index is
                                  numbered from 1.<br />So let's say we have
                                  records - A (index 1), B (index 2), C (index
                                  3), D (index 4), and E (index 5).&nbsp;<br />Range
                                  from 0 to 3&nbsp;will fetch A, B, C, D<br />Range
                                  from 1 to 4 will fetch A, B, C, D<br />Range
                                  from 2 to 4 will fetch B, C, D
                                </p>
                              </td>
                            </tr>
                            <tr>
                              <td>&lt;end_index&gt;</td>
                              <td>
                                <p>
                                  Last index of the range of records to be
                                  fetched.
                                </p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <p>
                        Negative index values will return an error during
                        runtime.
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h2><a></a>Things to keep in mind</h2>
            <ul>
              <li>
                If you wish to fetch all records of the specified form, use the
                following script as criteria:
                <div>[ID != 0]</div>
                <br />It is advisable to fetch all records only when absolutely
                needed. Fetching all records generates a load resulting in
                performance issues.
              </li>
              <li>
                If you wish to use the "sort" and "range" parameters together,
                the "sort" parameter should be followed by the "range"
                parameter.
              </li>
            </ul>
            <h2>This task can be used in the following events</h2>
            <div>
              <table>
                <tbody>
                  <tr>
                    <td><strong>When a record is Created</strong></td>
                  </tr>
                  <tr>
                    <td>On Load</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Validate</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Success</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On User input</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on add row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on delete row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td><strong>When a record is Created or Edited</strong></td>
                  </tr>
                  <tr>
                    <td>On Load</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Validate</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Success</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On User input</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on add row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on delete row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td><strong>When a record is Edited</strong></td>
                  </tr>
                  <tr>
                    <td>On Load</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Validate</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Success</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On User input</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on add row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>Subform on delete row</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td><strong>When a record is Deleted</strong></td>
                  </tr>
                  <tr>
                    <td>On Validate</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>On Success</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td><strong>Other workflow events</strong></td>
                  </tr>
                  <tr>
                    <td>On a scheduled date</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>During approval process</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>During payment process</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>In a Custom Function</td>
                    <td><span>Yes</span></td>
                  </tr>
                  <tr>
                    <td>In an Action item in report</td>
                    <td><span>Yes</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <h2><a></a>Examples</h2>
            <p>
              1) The following script fetches all records from the Employees
              form and stores them in "EmployeeDetails" collection variable. The
              "Name" field value is extracted from all the records and displayed
              to the user.
            </p>
            <div>
              for each EmployeeDetails in Employees<br />{<br />info
              EmployeeDetails.Name;<br />}
            </div>
            <p>
              2)&nbsp;The following script iterates through all records in the
              "Employees" form which meet the criteria, and a mail is sent to
              those employees.
            </p>
            <div>
              for each employee in Employees [dateOfJoining =
              zoho.currentDate.subYear(1)]<br />//subYear is a &lt;built-in
              function&gt;&nbsp;<built-in
                >which subtracts given number of years, which in this case is
                one.<br />//zoho.currentDate is a which holds current(today)
                date value.<br /><br />{<br />sendmail[<br />form:zoho.adminuser<br />to:employee.emailID<br />subject:"Work
                Anniversary"<br />message: "Here's wishing you a very happy work
                anniversary."<br />]<br />}
              </built-in>
            </div>
            <p>
              3)&nbsp;The following script iterates through all records in the
              "Employees" form which are sorted based on the "name" field, and
              displays the field value in the first 3 records.
            </p>
            <div>
              for each employeeDetails in Employees [ ID != 0 ] sort by name
              range from 0 to 2<br />{<br />info employeeDetails.name;<br />}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div><iframe></iframe></div>
</div>
